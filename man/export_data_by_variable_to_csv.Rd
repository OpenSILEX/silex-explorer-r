% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/export_data_by_variable_to_csv.R
\name{export_data_by_variable_to_csv}
\alias{export_data_by_variable_to_csv}
\title{Export Data by Variable to CSV Files}
\usage{
export_data_by_variable_to_csv(var_exp, data, output_dir)
}
\arguments{
\item{var_exp}{A data frame containing variable metadata, with at least the
columns \code{uri} and \code{name}.}

\item{data}{A data frame containing scientific data, with at least the
columns \code{variable}, \code{target}, \code{value}, and \code{date}.}

\item{output_dir}{Optional character string specifying the directory where
CSV files will be written. If \code{NULL}, no files are created.}
}
\value{
A named list of data frames, where each element corresponds to the filtered
data of a single variable.
}
\description{
This function exports scientific data grouped by variable into separate CSV
files. Each variable is written to its own CSV file, named after the variable.
The function also returns the exported data as a list of data frames.
}
\details{
The function performs the following steps:
\itemize{
  \item Splits the input data by variable URI.
  \item Removes rows with missing \code{target}, \code{value}, or \code{date}.
  \item Builds a clean data frame for each variable with targets, values, and dates.
  \item Saves each variable-specific data frame to a CSV file named
  \code{"<variable_name>_data.csv"} when \code{output_dir} is provided.
}

Variables are named using the metadata provided in \code{var_exp}. If no name
is found for a variable URI, the last segment of the URI is used instead.
}
